(this["webpackJsonprecoil-shop"]=this["webpackJsonprecoil-shop"]||[]).push([[0],{27:function(e,t,n){e.exports=n(62)},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),l=n(17),r=n.n(l),u=n(10),o=n(1),i=n(3),m=Object(i.atom)({key:"cart",default:[]}),s=Object(i.selector)({key:"cartState",get:function(e){var t=e.get;return{totalCost:t(m).reduce((function(e,t){return e+t.price*t.qty}),0),totalQty:t(m).reduce((function(e,t){return e+t.qty}),0)}}}),d=n(26),E=n(12),b=n(13),f=function(e,t){return{clone:e.map((function(e){return Object(b.a)({},e)})),index:e.findIndex((function(e){return e.id===t}))}},p=function(){var e=Object(i.useRecoilState)(m),t=Object(E.a)(e,2),n=t[0],a=t[1];return function(e){var t=f(n,e.id),c=t.clone,l=t.index;-1!==l?(c[l].qty+=1,a(c)):a([].concat(Object(d.a)(c),[Object(b.a)(Object(b.a)({},e),{},{qty:1})]))}},v=function(){var e=Object(i.useRecoilState)(m),t=Object(E.a)(e,2),n=t[0],a=t[1];return function(e){a(n.filter((function(t){return t.id!==e.id})))}},y=["apple","orange","pear","tomato","watermelon","guava","mango","avacado","lime","lemon","kiwi"].map((function(e,t){return{id:e,price:t+1}})),h=function(){var e=p();return c.a.createElement("div",{className:"catalog"},c.a.createElement("div",{className:"products"},y.map((function(t){return c.a.createElement("div",{key:t.id,className:"product"},c.a.createElement("h4",null,t.id," / $",t.price),c.a.createElement("button",{className:"ui button positive mini",onClick:function(){return e(t)}},"Add"))}))))},j=function(e){var t=e.item,n=p(),a=v(),l=function(){var e=Object(i.useRecoilState)(m),t=Object(E.a)(e,2),n=t[0],a=t[1],c=v();return function(e){var t=f(n,e.id),l=t.clone,r=t.index;1===l[r].qty?c(e):(l[r].qty-=1,a(l))}}();return c.a.createElement("div",{className:"ui buttons mini"},c.a.createElement("button",{onClick:function(){return l(t)},className:"ui button"},"-"),c.a.createElement("button",{onClick:function(){return n(t)},className:"ui button positive"},"+"),c.a.createElement("button",{onClick:function(){return a(t)},className:"ui button negative"},"x"))},O=function(){var e=Object(i.useRecoilValue)(m),t=Object(i.useRecoilValue)(s).totalCost;return c.a.createElement("table",{className:"cart"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null),c.a.createElement("th",null,"Item"),c.a.createElement("th",null,"Price"),c.a.createElement("th",null,"Qty"),c.a.createElement("th",null,"Total"))),c.a.createElement("tbody",null,e.map((function(e){return c.a.createElement("tr",{key:e.id},c.a.createElement("td",{className:"actions"},c.a.createElement(j,{item:e})),c.a.createElement("td",null,e.id),c.a.createElement("td",null,e.price),c.a.createElement("td",null,e.qty),c.a.createElement("td",null,"$",e.qty*e.price))})),c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"4",style:{textAlign:"right"}},"Total:"),c.a.createElement("td",null,"$",t))))},N=function(){var e=Object(i.useRecoilValue)(s).totalQty;return c.a.createElement("div",{className:"header"},c.a.createElement("div",null,c.a.createElement(u.b,{to:"/"},c.a.createElement("h1",null,"My Store"))),c.a.createElement("div",null,c.a.createElement(u.b,{className:"ui button primary",to:"cart"},"Cart: ",e)))},k=function(){return c.a.createElement(i.RecoilRoot,null,c.a.createElement(u.a,null,c.a.createElement(N,null),c.a.createElement(o.c,null,c.a.createElement(o.a,{exact:!0,path:"/",component:h}),c.a.createElement(o.a,{path:"/cart",component:O}))))};n(61);r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(k,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.cf52a269.chunk.js.map